"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("./randOpacity.css"),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(t){return 0<this.filter(function(e){return e==t}).length}});var getRandIndex=function(e){return Math.floor(Math.random()*e)},toggleOpacity=function(e,t){1===t?(e.classList.remove("toggle-popout"),setTimeout(function(){return e.classList.add("toggle-popout")},17)):0===t?(e.classList.remove("toggle-fadein"),setTimeout(function(){return e.classList.add("toggle-fadein")},17)):e.style.opacity=Math.floor(9*Math.random()+2)/10};function randOpacity(e,n,t){var o=this,i=t.frequency,r=void 0===i?5:i,a=t.duration,d=void 0===a?2e3:a,s=t.fadeTo,u=void 0===s?null:s;this.count=0,e.className+=" lb-effect-rand-opacity-container",e.style.animationDuration=d+"ms",this.forbiddenIndex=[],this.frameID=0,this.pause=function(){window.cancelAnimationFrame(o.frameID)},this.start=function(){c()};var c=function e(){if(r<1||10<r)throw new Error("function randOpacity(nodeList, options) : frequency option must be between 1 and 10 included");if(++o.count%(55-5*r)==0){for(var t=getRandIndex(n.length);o.forbiddenIndex.includes(t);)t=getRandIndex(n.length);o.forbiddenIndex.push(t),o.forbiddenIndex.length>=n.length/5&&o.forbiddenIndex.shift(),toggleOpacity(n[t],u)}o.frameID=window.requestAnimationFrame(e)}}var _default=randOpacity;exports.default=_default;